â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
   miniZ MCP Professional v4.3.6 - RELEASE NOTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Release Date: December 11, 2025
Build Number: 4.3.6.20251211
Package Size: ~150 MB

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‰ WHAT'S NEW IN v4.3.6:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” 1. ENHANCED LICENSE PERSISTENCE SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PROBLEM SOLVED:
â€¢ Some users reported license being lost after computer restart
â€¢ "Please enter license key" prompt appearing despite successful activation
â€¢ License file being deleted by Windows Defender or cleanup operations

NEW MULTI-LOCATION BACKUP SYSTEM:

Location 1 (Primary):
  %LOCALAPPDATA%\miniZ_MCP\.license\license.json

Location 2 (Backup #1):
  %APPDATA%\miniZ_MCP\.license\license.json

Location 3 (Backup #2):
  C:\ProgramData\miniZ_MCP\.license\license.json

Location 4 (Backup #3):
  <EXE_DIRECTORY>\.license\license.json

HOW IT WORKS:
âœ… License is written to ALL 4 locations simultaneously
âœ… On startup, system checks ALL locations
âœ… If one location is deleted, others serve as backup
âœ… Survives Windows Cleanup, Antivirus scans, and system updates

TECHNICAL DETAILS:
â€¢ Atomic write operations with error handling
â€¢ JSON-based license storage
â€¢ Hardware ID binding (MAC address + CPU ID)
â€¢ Expiration date tracking
â€¢ Offline validation support


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”’ 2. SECURITY IMPROVEMENTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

API KEY PROTECTION:
â€¢ âŒ REMOVED hardcoded API keys from source code
â€¢ âŒ REMOVED API keys from PyInstaller build
â€¢ âœ… Template-based configuration (xiaozhi_endpoints_template.json)
â€¢ âœ… User must provide their OWN API keys after installation
â€¢ âœ… Keys stored LOCALLY on user's machine only

WHY THIS MATTERS:
Before: API keys were bundled in EXE â†’ Risk of key extraction and abuse
After: Clean build with zero sensitive data â†’ Users control their own keys

FILE CHANGES:
â€¢ xiaozhi_endpoints.json â†’ Excluded from build
â€¢ xiaozhi_endpoints_template.json â†’ Included (empty keys)
â€¢ PyInstaller spec updated to exclude sensitive files


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§  3. KNOWLEDGE BASE AUTO-LOADING FOR GEMINI AI
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

BEFORE v4.3.6:
User: "What is the project budget?"
System: [Searches KB for keyword "budget"] â†’ Returns limited results
Gemini: [Only sees 2-3 matching documents]

AFTER v4.3.6:
User: "What is the project budget?"
System: [Automatically loads ALL Knowledge Base (50 documents)]
Gemini: [Reads entire KB, summarizes all financial docs, finds budget]
Result: Comprehensive answer with full context!

NEW BEHAVIOR:
âœ… Gemini ALWAYS reads ALL documents in Knowledge Base
âœ… Automatic summarization of long content (>2000 chars per file)
âœ… Intelligent context extraction from multiple sources
âœ… No manual search or filtering needed
âœ… Maximum context awareness (up to 50,000 chars)

HOW TO USE:
1. Go to "Knowledge Base" tab
2. Click "Set Folder" â†’ Choose your documents folder
3. Click "Scan Folder" â†’ System finds all .pdf, .docx, .txt, .md files
4. Click "Index All" â†’ Gemini processes and summarizes each file
5. Ask questions in "Ask Gemini" tab â†’ Gemini automatically reads ALL data!

SUPPORTED FILE TYPES:
â€¢ PDF (.pdf)
â€¢ Word Documents (.docx, .doc)
â€¢ Text Files (.txt)
â€¢ Markdown (.md)
â€¢ JSON (.json)
â€¢ CSV (.csv)
â€¢ Excel (.xlsx, .xls)
â€¢ Rich Text Format (.rtf)

EXAMPLE USE CASES:
â€¢ "Summarize all project documentation"
â€¢ "What are the key risks mentioned across all documents?"
â€¢ "Find all budget allocations in financial reports"
â€¢ "Compare requirements from different specification files"

TECHNICAL IMPLEMENTATION:
Code changes in xiaozhi_final.py:

@app.post("/api/tool/ask_gemini")
async def api_ask_gemini(data: dict):
    # ğŸ”’ FORCED KB LOADING
    use_knowledge_base = True  # Always enabled
    
    # ğŸ“š LOAD ALL KB - NO FILTERING
    kb_result = await get_knowledge_context(
        query="",  # Empty = load everything
        max_chars=50000,  # Increased limit
        use_gemini_summary=True  # Auto-summarize
    )


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š INHERITED FEATURES FROM v4.3.5:

ğŸ¨ IMPROVED UI:
â€¢ Horizontal endpoint configuration (2-column layout)
â€¢ Modal width: 1400px (increased from 900px)
â€¢ Left column: Gemini API settings
â€¢ Right column: OpenAI + Serper API settings
â€¢ Visual separator between columns

ğŸ› BUG FIXES:
â€¢ Fixed "Cannot read properties of undefined" error in conversation history
â€¢ Added null/undefined safety checks throughout codebase
â€¢ Improved error handling for empty data responses

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš¡ INHERITED FEATURES FROM v4.3.4:

ğŸ“Š API QUOTAS PAGE:
â€¢ Real-time monitoring of Gemini API usage
â€¢ Visual charts showing quota consumption
â€¢ Serper API search quota tracking
â€¢ Alert system for approaching limits

ğŸš€ PERFORMANCE:
â€¢ 600% speed improvement in UI responsiveness
â€¢ Reduced conversation history file size by 70%
â€¢ Optimized VLC status polling (cache 200ms)
â€¢ 85% reduction in disk I/O operations

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ TECHNICAL SPECIFICATIONS:

BUILD INFORMATION:
â€¢ Python Version: 3.13.9
â€¢ PyInstaller Version: 6.17.0
â€¢ Inno Setup Version: 6.5.4
â€¢ Build Method: --onefile with clean rebuild
â€¢ Platform: Windows 10/11 64-bit

DEPENDENCIES INCLUDED:
â€¢ FastAPI 0.115.6
â€¢ google-generativeai 0.8.3
â€¢ openai 1.59.7
â€¢ psutil 6.1.1
â€¢ pyautogui 0.9.54
â€¢ python-vlc 3.0.21203
â€¢ selenium 4.27.1
â€¢ Pillow 11.0.0
â€¢ requests 2.32.3
â€¢ websockets 14.1
â€¢ + 50 more libraries (all bundled in EXE)

FILE STRUCTURE:
miniZ_MCP_Professional.exe (149.4 MB)
â”œâ”€â”€ Python 3.13 runtime
â”œâ”€â”€ All required libraries
â”œâ”€â”€ logo.png
â”œâ”€â”€ LICENSE_AGREEMENT.txt
â””â”€â”€ Configuration templates

NO EXTERNAL DEPENDENCIES REQUIRED!


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ› KNOWN ISSUES & WORKAROUNDS:

1. ANTIVIRUS FALSE POSITIVES
   Issue: Some antivirus software flags the EXE as suspicious
   Reason: PyInstaller EXEs often trigger heuristic analysis
   Solution: Add to antivirus exclusion list

2. FIRST STARTUP SLOW
   Issue: First launch takes 10-15 seconds
   Reason: Windows Defender scanning large EXE
   Solution: Wait patiently, subsequent launches are instant

3. VLC INTEGRATION REQUIRES VLC INSTALLED
   Issue: Music player features need VLC Media Player
   Reason: We use VLC's powerful media engine
   Solution: Install VLC from https://www.videolan.org

4. KNOWLEDGE BASE INDEXING SLOW FOR LARGE FILES
   Issue: 100+ documents take 5-10 minutes to index
   Reason: Gemini API summarization for each file
   Solution: Index in batches, or disable summarization for quick scan


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ MIGRATION GUIDE:

FROM v4.3.5 â†’ v4.3.6:

1. Uninstall v4.3.5 (Settings â†’ Apps â†’ Uninstall)
2. Install v4.3.6 using new installer
3. License key will be PRESERVED (auto-detected from backup)
4. API keys will be RESET - need to re-enter
5. Knowledge Base index preserved (if in same location)
6. Conversation history preserved (if in AppData)

âš ï¸ IMPORTANT: Export your API keys from v4.3.5 before upgrading!

FROM OLDER VERSIONS (v4.3.4 or earlier):

â€¢ Complete fresh installation recommended
â€¢ Export license key and API keys manually
â€¢ Re-index Knowledge Base documents
â€¢ Conversation history may not be compatible


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ†˜ TROUBLESHOOTING:

LICENSE ISSUES:
Q: License not found after restart?
A: v4.3.6 fixes this! Upgrade immediately. If still occurs, manually copy
   license.json from %LOCALAPPDATA%\miniZ_MCP\.license\ to other locations.

Q: "Invalid license key" error?
A: Check if Hardware ID changed (VM snapshot, dual boot, hardware upgrade).
   Contact support for license transfer.

API KEY ISSUES:
Q: "API key not configured" despite entering key?
A: Check xiaozhi_endpoints.json in program directory. Make sure keys are
   saved without quotes and spaces.

Q: Gemini API rate limit errors?
A: Free tier: 15 requests/min. Upgrade to paid plan or wait 1 minute.

KNOWLEDGE BASE ISSUES:
Q: "No context found" despite indexing files?
A: Re-index with "Index All" button. Check file formats are supported.

Q: Gemini not reading all documents?
A: v4.3.6 automatically loads ALL documents. Make sure you're using v4.3.6!


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ SUPPORT CHANNELS:

â€¢ Email: support@miniz-mcp.com
â€¢ Website: https://miniz-mcp.com
â€¢ Discord: https://discord.gg/miniz-mcp
â€¢ GitHub Issues: (Private repository for licensed users)

Response time: Within 24 hours for licensed users


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ ROADMAP (Upcoming Features):

v4.3.7 (Planned: January 2025):
â€¢ Multi-language UI support (English/Vietnamese)
â€¢ Voice input for AI queries
â€¢ Browser extension for cross-platform control

v4.4.0 (Planned: February 2025):
â€¢ Claude AI integration
â€¢ Custom tool creation system
â€¢ Mobile app companion (Android/iOS)

v5.0.0 (Planned: Q2 2025):
â€¢ Cloud sync for Knowledge Base
â€¢ Team collaboration features
â€¢ Enterprise license management


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Thank you for using miniZ MCP Professional v4.3.6!

Â© 2025 miniZ Team. All rights reserved.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
